{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hengo\\\\Documents\\\\GitHub\\\\react-weather\\\\src\\\\components\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { GeocoderAutocomplete } from \"@geoapify/geocoder-autocomplete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Search(props) {\n  _s();\n\n  const [location, setLocation] = useState(\"\");\n  const [coord, setCoord] = useState([]);\n  const {\n    info,\n    onCityChange,\n    forecast,\n    setForecast\n  } = props;\n  const [submitted, setSubmitted] = useState(false);\n  const [suggestions, setSuggestions] = useState({}); // const autocomplete = new GeocoderAutocomplete(\n  //   document.getElementById(\"autocomplete\"),\n  //   \"82f3fe01d1294f6d9460337e0115e5d2\",\n  //   {\n  //     /* Geocoder options */\n  //   }\n  // );\n  // autocomplete.on(\"select\", (location) => {\n  //   // check selected location here\n  // });\n  // autocomplete.on(\"suggestions\", (suggestions) => {\n  //   // process suggestions here\n  // });\n\n  useEffect(() => {\n    if (submitted) {\n      fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${coord[0]}&lon=${coord[1]}&appid=4920da1d765991ca446bd506bd9286d3&units=imperial`).then(response => response.json()).then(data => onCityChange({\n        name: data.name,\n        temp: data.main.temp,\n        weather: data.weather[0].main,\n        description: data.weather[0].description,\n        country: data.sys.country,\n        icon: `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`,\n        state: coord[2]\n      })).catch(error => console.log(error));\n    }\n  }, [coord]);\n  useEffect(() => {\n    fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${coord[0]}&lon=${coord[1]}&cnt=5&appid=4920da1d765991ca446bd506bd9286d3&units=imperial`).then(response => response.json()).then(data => setForecast(data.list)).catch(error => console.log(error));\n  }, [coord]);\n  useEffect(() => {\n    if (location) {\n      fetch(`https://api.geoapify.com/v1/geocode/autocomplete?text=${location}&apiKey=82f3fe01d1294f6d9460337e0115e5d2`).then(response => response.json()).then(data => setSuggestions(data)).catch(error => console.log(error));\n    }\n  }, [location]);\n\n  function handleInputChange(e) {\n    setLocation(e.target.value);\n  }\n\n  function handleFormSubmit(e) {\n    e.preventDefault(); // fetch(\n    //   `http://api.openweathermap.org/geo/1.0/direct?q=${location}&limit=5&appid=4920da1d765991ca446bd506bd9286d3`\n    // )\n    //   .then((response) => response.json())\n    //   .then((data) => setCoord([data[0].lat, data[0].lon, data[0].state]))\n    //   .catch((error) => console.log(error));\n    // setSubmitted(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-16 flex justify-center items-center\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        forHTML: \"location\",\n        className: \"mr-2\",\n        children: [\"Enter location:\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mr-2\",\n          placeholder: \"Entery city name\",\n          id: \"location\",\n          name: \"location\",\n          type: \"text\",\n          onChange: handleInputChange,\n          value: location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [\"Suggestions \", suggestions ? console.log(suggestions.features) : null, \";\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Search, \"V8lOYjWKtTNYGD4YMOrNIaWVcF4=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["useState","useEffect","GeocoderAutocomplete","Search","props","location","setLocation","coord","setCoord","info","onCityChange","forecast","setForecast","submitted","setSubmitted","suggestions","setSuggestions","fetch","then","response","json","data","name","temp","main","weather","description","country","sys","icon","state","catch","error","console","log","list","handleInputChange","e","target","value","handleFormSubmit","preventDefault","features"],"sources":["C:/Users/hengo/Documents/GitHub/react-weather/src/components/Search.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { GeocoderAutocomplete } from \"@geoapify/geocoder-autocomplete\";\r\n\r\nexport default function Search(props) {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [coord, setCoord] = useState([]);\r\n  const { info, onCityChange, forecast, setForecast } = props;\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [suggestions, setSuggestions] = useState({});\r\n\r\n  // const autocomplete = new GeocoderAutocomplete(\r\n  //   document.getElementById(\"autocomplete\"),\r\n  //   \"82f3fe01d1294f6d9460337e0115e5d2\",\r\n  //   {\r\n  //     /* Geocoder options */\r\n  //   }\r\n  // );\r\n  // autocomplete.on(\"select\", (location) => {\r\n  //   // check selected location here\r\n  // });\r\n\r\n  // autocomplete.on(\"suggestions\", (suggestions) => {\r\n  //   // process suggestions here\r\n  // });\r\n\r\n  useEffect(() => {\r\n    if (submitted) {\r\n      fetch(\r\n        `https://api.openweathermap.org/data/2.5/weather?lat=${coord[0]}&lon=${coord[1]}&appid=4920da1d765991ca446bd506bd9286d3&units=imperial`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((data) =>\r\n          onCityChange({\r\n            name: data.name,\r\n            temp: data.main.temp,\r\n            weather: data.weather[0].main,\r\n            description: data.weather[0].description,\r\n            country: data.sys.country,\r\n            icon: `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`,\r\n            state: coord[2],\r\n          })\r\n        )\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [coord]);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.openweathermap.org/data/2.5/forecast?lat=${coord[0]}&lon=${coord[1]}&cnt=5&appid=4920da1d765991ca446bd506bd9286d3&units=imperial`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => setForecast(data.list))\r\n      .catch((error) => console.log(error));\r\n  }, [coord]);\r\n\r\n  useEffect(() => {\r\n    if (location) {\r\n      fetch(\r\n        `https://api.geoapify.com/v1/geocode/autocomplete?text=${location}&apiKey=82f3fe01d1294f6d9460337e0115e5d2`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((data) => setSuggestions(data))\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [location]);\r\n\r\n  function handleInputChange(e) {\r\n    setLocation(e.target.value);\r\n  }\r\n\r\n  function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // fetch(\r\n    //   `http://api.openweathermap.org/geo/1.0/direct?q=${location}&limit=5&appid=4920da1d765991ca446bd506bd9286d3`\r\n    // )\r\n    //   .then((response) => response.json())\r\n    //   .then((data) => setCoord([data[0].lat, data[0].lon, data[0].state]))\r\n    //   .catch((error) => console.log(error));\r\n    // setSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form\r\n        className=\"mb-16 flex justify-center items-center\"\r\n        onSubmit={handleFormSubmit}\r\n      >\r\n        <label forHTML=\"location\" className=\"mr-2\">\r\n          Enter location:{\" \"}\r\n        </label>\r\n        <div>\r\n          <input\r\n            className=\"mr-2\"\r\n            placeholder=\"Entery city name\"\r\n            id=\"location\"\r\n            name=\"location\"\r\n            type=\"text\"\r\n            onChange={handleInputChange}\r\n            value={location}\r\n          />\r\n          <div className=\"\">\r\n            Suggestions {suggestions ? console.log(suggestions.features) : null};\r\n          </div>\r\n        </div>\r\n        <button>Search</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}